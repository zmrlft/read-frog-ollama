---
title: è´¡çŒ®ä»£ç 
description: ä¸€èµ·æ„å»ºæ›´å¥½çš„è¯­è¨€å­¦ä¹ äº§å“
icon: GitPullRequestArrow
---

## å¯åŠ¨é¡¹ç›®

### æ­¥éª¤ 1: Fork é¡¹ç›®å¹¶å…‹éš†åˆ°æœ¬åœ°

```bash
# ä»ä½ çš„ fork å…‹éš†é¡¹ç›®
git clone https://github.com/xxxxx/read-frog.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd read-frog
```

### æ­¥éª¤ 2: è®¾ç½®å¹¶åˆå§‹åŒ–æœ¬åœ°æ•°æ®åº“
ä½ å¯ä»¥åœ¨æœ¬åœ°è®¾ç½®ä»»ä½•ä½ é€‰æ‹©çš„ Postgres æ•°æ®åº“ã€‚å»ºè®®ä½¿ç”¨ Supabase æœ¬åœ°å¼€å‘ã€‚å¦‚æœä½¿ç”¨é Supabase éƒ¨ç½²ï¼Œè¯·è·³è¿‡æ­¥éª¤ 2.1ã€‚

#### æ­¥éª¤ 2.1: Supabase æœ¬åœ°éƒ¨ç½²
è¦è®¾ç½®é¡¹ç›®æ‰€éœ€çš„æ•°æ®åº“ï¼Œè¯·å‚è€ƒ [Supabase æœ¬åœ°å¼€å‘è®¾ç½®æŒ‡å—](https://supabase.com/docs/guides/local-development?queryGroups=package-manager&package-manager=brew)
æ¥åˆ›å»ºç”¨äºæœ¬åœ°å¼€å‘çš„ Supabase å®ä¾‹ã€‚å®Œæˆæ­¤æ­¥éª¤åï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ `supabase` æ–‡ä»¶å¤¹ã€‚è¯·ä¸è¦æäº¤æ­¤æ–‡ä»¶å¤¹ï¼Œå› ä¸ºå®ƒä»…ç”¨äºæœ¬åœ°å¼€å‘ã€‚

åˆå§‹åŒ–åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æœ¬åœ°å®ä¾‹è¿è¡ŒçŠ¶æ€ï¼š
```bash
supabase status
```
ä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
```
         API URL: http://xxxxxxx
     GraphQL URL: http://xxxxxxx
  S3 Storage URL: http://xxxxxxx
          DB URL: postgresql://xxxxxxx
      Studio URL: http://xxxxxxx
    Inbucket URL: http://xxxxxxx
      JWT secret: xxxxxxx
        anon key: xxxxxxx
service_role key: xxxxxxx
   S3 Access Key: xxxxxxx
   S3 Secret Key: xxxxxxx
       S3 Region: xxxxxxx
```
è®°ä¸‹ `DB URL` çš„å€¼ï¼Œä»¥ä¾¿åœ¨åç»­æ­¥éª¤ä¸­ä½¿ç”¨ã€‚

#### æ­¥éª¤ 2.2: åˆå§‹åŒ–æœ¬åœ°æ•°æ®åº“æ¨¡å¼
åœ¨ `<é¡¹ç›®æ ¹ç›®å½•>/packages/db/` ä¸‹åˆ›å»ºæ–‡ä»¶ `.env`ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå®šä¹‰å˜é‡ `DATABASE_URL` å¹¶å¡«å…¥å®Œæ•´çš„æ•°æ®åº“è¿æ¥ URLã€‚
å¦‚æœä½¿ç”¨æ­¥éª¤ 2.1 ä¸­çš„ Supabaseï¼Œè¯·å¡«å…¥è¯¥æ­¥éª¤ä¸­è·å¾—çš„ `DB URL`ã€‚

ç¤ºä¾‹ `<é¡¹ç›®æ ¹ç›®å½•>/packages/db/.env`ï¼š
```
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres
NODE_ENV=development
```

æˆ–è€…ä½ å¯ä»¥å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶ï¼š
```bash
# åœ¨ Unix/Linux/macOS ä¸Šï¼š
cp packages/db/.env.example packages/db/.env

# åœ¨ Windows (å‘½ä»¤æç¤ºç¬¦)ï¼š
copy packages\db\.env.example packages\db\.env

# åœ¨ Windows (PowerShell)ï¼š
Copy-Item packages/db/.env.example packages/db/.env
```

ç„¶åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–æ•°æ®åº“æ¨¡å¼ï¼š
```bash
pnpm db:migrate
```

### æ­¥éª¤ 3: è®¾ç½®ç¯å¢ƒå˜é‡
åœ¨ `<é¡¹ç›®æ ¹ç›®å½•>/apps/website/` ä¸‹åˆ›å»ºæ–‡ä»¶ `.env.local`ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œä¸º `<é¡¹ç›®æ ¹ç›®å½•>/apps/website/env.ts` ä¸­å£°æ˜çš„æ‰€æœ‰ç¯å¢ƒå˜é‡å®šä¹‰å€¼ã€‚ç‰¹åˆ«æ˜¯ï¼š
- `BETTER_AUTH_SECRET`: è®¾ç½®ä»»ä½•å€¼éƒ½å¯ä»¥ã€‚å®ƒè¢«ç”¨ä½œåŠ å¯†çš„ç§å­ã€‚
- `BETTER_AUTH_URL`: ä¸ç½‘ç«™ URL ç›¸åŒã€‚
- `GOOGLE_CLIENT_ID` å’Œ `GOOGLE_CLIENT_SECRET`: Google SSO å¯†é’¥ã€‚å¦‚æœä¸éœ€è¦æœ¬åœ°ç™»å½•ï¼Œè®¾ç½®éšæœºå€¼å³å¯ã€‚å¦åˆ™ï¼Œåœ¨ Google ä¸Šç”³è¯·ä¸€ä¸ªã€‚
- `DATABASE_URL`: è¿æ¥åˆ° Postgres æ•°æ®åº“çš„å®Œæ•´ URLã€‚å¦‚æœä½¿ç”¨æ­¥éª¤ 2.1 ä¸­çš„ Supabaseï¼Œè¯·å¡«å…¥è¯¥æ­¥éª¤ä¸­è·å¾—çš„ `DB URL`ã€‚
- `PUBLIC_REPO_GITHUB_TOKEN`: ç”¨äºæ˜¾ç¤º Github æ˜Ÿæ ‡æ•°ã€‚(å¯é€‰)

ç¤ºä¾‹ `<é¡¹ç›®æ ¹ç›®å½•>/apps/website/.env.local`ï¼š
```
BETTER_AUTH_SECRET=<æŸä¸ª_BETTER_AUTH_SECRET>
BETTER_AUTH_URL=http://localhost:8888

GOOGLE_CLIENT_ID=<æŸä¸ª_GOOGLE_CLIENT_ID>
GOOGLE_CLIENT_SECRET=<æŸä¸ª_GOOGLE_CLIENT_SECRET>

DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

PUBLIC_REPO_GITHUB_TOKEN=<æŸä¸ª_PUBLIC_REPO_GITHUB_TOKEN> (å¯é€‰)
```

æˆ–è€…ä½ å¯ä»¥å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶ï¼š
```bash
# åœ¨ Unix/Linux/macOS ä¸Šï¼š
cp apps/website/.env.example apps/website/.env.local

# åœ¨ Windows (å‘½ä»¤æç¤ºç¬¦)ï¼š
copy apps\website\.env.example apps\website\.env.local

# åœ¨ Windows (PowerShell)ï¼š
Copy-Item apps/website/.env.example apps/website/.env.local
```

### æ­¥éª¤ 4: å¯åŠ¨å¼€å‘æœåŠ¡å™¨
è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼š
```bash
pnpm dev
```
å¯åŠ¨åï¼Œåœ¨ä»¥ä¸‹åœ°å€è®¿é—®ä¸»ç½‘ç«™ï¼šhttp://localhost:8888/ã€‚

<Callout title="åœ¨ç‰¹å®šæµè§ˆå™¨ä¸­æ‰“å¼€æ‰©å±•">
  ä½ å¯ä»¥ä¿®æ”¹ `apps/extension` ç›®å½•ä¸‹çš„ `web-ext.config.ts` æ–‡ä»¶ï¼Œæ˜¾å¼æŒ‡å®šæµè§ˆå™¨è·¯å¾„ã€‚
  ```javascript
  // apps/extension/web-ext.config.ts
  import { defineWebExtConfig } from 'wxt';

  export default defineWebExtConfig({
    binaries: {
        chrome: "path/to/your/chrome.exe",
        firefox: "path/to/your/firefox.exe",
        edge: "path/to/your/edge.exe"
	  }
  });
  ```
</Callout>

<Callout title="pnpm dev æ— æ³•è‡ªåŠ¨åŠ è½½æ‰©å±•">
  å¦‚æœä½ ä½¿ç”¨ Chrome 137 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œä½ éœ€è¦ä¸‹è½½ [Chrome for
  Testing](https://developer.chrome.com/blog/chrome-for-testing/) è¿›è¡Œå¼€å‘ã€‚
  è¯·å‚è€ƒ[è¯¦ç»†è¯´æ˜](https://wxt.dev/guide/essentials/config/browser-startup.html)ã€‚
</Callout>

<Callout title="æŒä¹…åŒ– Chrome é…ç½®æ–‡ä»¶">
  **é»˜è®¤æƒ…å†µä¸‹ï¼Œweb-ext æ¯æ¬¡è¿è¡Œå¼€å‘è„šæœ¬æ—¶éƒ½ä¼šåˆ›å»ºæ–°é…ç½®æ–‡ä»¶ã€‚**

  **åªæœ‰ Chromium æµè§ˆå™¨æ”¯æŒä½¿ç”¨ `--user-data-dir` æ ‡å¿—åˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶ï¼š**

  ```typescript
  export default defineWebExtConfig({
    chromiumArgs: ['--user-data-dir=./.wxt/chrome-data'],
  });
  ```

  **å¥½å¤„ï¼š** é…ç½®æ–‡ä»¶åœ¨å¼€å‘ä¼šè¯é—´ä¿æŒï¼Œæ‰€ä»¥ä½ å¯ä»¥ï¼š
  - å®‰è£…å¼€å‘å·¥å…·æ‰©å±•
  - è®°ä½ç™»å½•çŠ¶æ€
  - ä¿æŒæµè§ˆå™¨è®¾ç½®

  **ğŸ’¡ æç¤ºï¼š** å¯ä»¥ä¸º `--user-data-dir` ä½¿ç”¨ä»»ä½•ç›®å½•ã€‚å½“å‰é…ç½®ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚
</Callout>

## æäº¤ä»£ç 

### åˆ›å»ºæ–°çš„åˆ†æ”¯

```bash
# å¦‚æœæ˜¯æ–°åŠŸèƒ½
git checkout -b feat/the-feature

# å¦‚æœæ˜¯ä¿®å¤ bug
git checkout -b fix/the-bug

# å¦‚æœæ˜¯æ–‡æ¡£è°ƒæ•´
git checkout -b docs/the-docs
```

### åˆ†æ”¯åˆå¹¶

å½“è¿œç¨‹åˆ†æ”¯(main)æ›´æ–°æ—¶ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬çš„ Pull Request å­˜åœ¨å†²çªï¼Œä½ å¯ä»¥é€šè¿‡æå‰åˆå¹¶è¿œç¨‹åˆ†æ”¯æ¥è§£å†³
```bash 
# åˆ‡åˆ° main åˆ†æ”¯ 
git checkout main

# åŒæ­¥ä¸Šæ¸¸ä»“åº“
git pull upstream main

# åˆ‡å›å¼€å‘åˆ†æ”¯
git checkout docs/xxxx

# åŒæ­¥è¿œç¨‹åˆ†æ”¯
git rebase main

# å¦‚æœ rebase åè¿˜æœ‰å†²çªï¼Œæ¨é€ä¸€æ¬¡
git push --force-with-lease origin docs/xxxx

# å¦‚æœæ²¡æœ‰å†²çªï¼Œæ¨é€ä»£ç 
git push origin docs/xxxx
```

<Callout title="git åŒæ­¥ä¸Šæ¸¸ä»“åº“">
  å¦‚æœä½ åœ¨åŒæ­¥ä¸Šæ¸¸ä»“åº“æ—¶é‡åˆ°è¯¥é”™è¯¯
  ```bash
  fatal: 'upstream' does not appear to be a git repository
  fatal: Could not read from remote repository.
  ```
  è¯·å°è¯•æ‰‹åŠ¨æ·»åŠ ä¸Šæ¸¸ä»“åº“
  ```bash
  git remote add upstream https://github.com/mengxi-ream/read-frog
  ```
</Callout>

## å‘èµ· Pull Request

å‘èµ· Pull Request å‰ï¼Œéœ€è¦å…ˆæ·»åŠ  changeset
```bash
# æ·»åŠ  changeset
pnpm changeset

# é€‰æ‹©æœ¬æ¬¡è°ƒæ•´çš„ packages
# Which packages would you like to include?...
[] @read-frog/website
[] @read-frog/extension

# ä¸º packages é€‰æ‹©éœ€è¦å˜æ›´çš„ç‰ˆæœ¬ç±»å‹
# Which packages should have a major bump? (ä¸»ç‰ˆæœ¬)
( ) all packages
  ( ) @read-frog/website@0.1.0
  ( ) @read-frog/extension@0.1.0
# Which packages should have a minor bump? (æ¬¡è¦ç‰ˆæœ¬)
( ) all packages
  ( ) @read-frog/website@0.1.0
  ( ) @read-frog/extension@0.1.0
# The following packages will be patch bumped (è¡¥ä¸ç‰ˆæœ¬)
( ) all packages
  ( ) @read-frog/website@0.1.0
  ( ) @read-frog/extension@0.1.0

# æä¾› summary
Summary >> ....
```

`pnpm changeset` ä¼šåœ¨ `.changeset` æ–‡ä»¶ä¸­ç”Ÿæˆ `[uniqId].md`ï¼Œå¯åœ¨ç”Ÿæˆå®Œæˆåå†æ¬¡è°ƒæ•´æœ¬æ¬¡å˜æ›´çš„æè¿°ã€‚

ç”Ÿæˆå®Œæˆåå†å‘èµ· Pull Requestï¼Œç„¶åç­‰å¾…åˆå¹¶ã€‚

## Commit è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒæ¥ç¼–å†™ commit messageã€‚

## è®¾ç½®ç¯å¢ƒå˜é‡

åœ¨å¼€å‘æ‰©å±•æ—¶ï¼Œä¸ºäº†è‡ªåŠ¨åŠ è½½ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚å¼€å‘ç¯å¢ƒçš„ API å¯†é’¥ï¼Œæ‚¨å¯ä»¥åœ¨ `apps/extension` ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª `.env.local` æ–‡ä»¶ã€‚

```bash
# apps/extension/.env.local
WXT_OPENAI_API_KEY=xxx
WXT_DEEPSEEK_API_KEY=xxx
```

## åœ¨ä¸­å›½å¤§é™†è·³è¿‡è°·æ­Œæµ‹è¯•

å¦‚æœä½ æ˜¯ä¸­å›½å¤§é™†è´¡çŒ®è€…ï¼Œé‚£ä¹ˆå½“ä½ è¦ push ä»£ç çš„æ—¶å€™ä½ å¾—ç”¨

```bash
# MAC
SKIP_FREE_API=true git push

# WINDOWS
$env:SKIP_FREE_API='true'
git push
```

ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿå› ä¸ºåœ¨ä½  push ä»£ç çš„æ—¶å€™ä¼šåšä»£ç æµ‹è¯•ï¼Œä½†æ˜¯è°·æ­Œçš„å…è´¹ API åœ¨å›½å†…æ— æ³•è®¿é—®ï¼Œè¿™ä¼šå¯¼è‡´æµ‹è¯•å¤±è´¥ï¼Œä»è€Œ push å¤±è´¥ï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½® `SKIP_FREE_API` ç¯å¢ƒå˜é‡æ¥è·³è¿‡è°·æ­Œæµ‹è¯•ã€‚
